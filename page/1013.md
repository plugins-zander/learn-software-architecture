# 研究现状

## 软件体系结构的研究现状

软件体系结构作为软件工程研究领域的一部分，已经取得了长足的发展，受到大多数软件系统设计和研究人员的重视。

但当前，体系结构仍是一个处在不断发展中的新研究领域，许多定义还不够统一，归纳现有体系结构的研究活动，主要的讨论和研究大致集中在以下几个方面。　　

### 1．软件体系结构描述研究

　　构建软件体系结构的目的之一就是建立一个可供各种人员交流的平台，并且要具备系统架构级的可重用性。因此如何恰当、准确地对软件体系结构进行描述是至关重要的。这种描述应当能够为各种人员提供不同的视图以满足其不同的要求；同时，当要构建新的应用或对应用进行系统级更改时，这种描述应该能够快速提供可重用的系统架构视图或系统模块视图。这方面的研究包括软件体系结构描述语言、使用“4+1” 模型描述软件体系结构、使用UML描述软件体系结构等方面的研究。

#### 　　1) 软件体系结构描述语言

　　现有的一些软件体系结构描述方法采用非形式化的方法，体系结构设计经常难以理解，难以对体系结构进行形式化分析和模拟，缺乏相应的支持工具帮助设计师完成设计工作。为了解决这个问题，用于描述和推理的形式化语言得以发展，这些语言就叫做体系结构描述语言(Architecture Description Language，ADL)，ADL寻求增加软件体系结构设计的可理解性和重用性。
　　ADL是这样一种语言，系统设计师可以利用它所提供的特性进行软件系统概念体系结构建模。ADL提供了具体的语法与刻画体系结构的概念框架。它使得系统开发者能够很好地描述他们设计的体系结构，以便与他人交流，能够用提供的工具对许多实例进行分析。
　　研究人员已经设计出了若干种ADL，典型的有Aesop、MetaH、C2、Rapide、SADL、UniCon和Wright等，尽管它们都描述软件体系结构，却有不同的特点：Aesop支持体系结构风格的应用；MetaH为设计者提供了关于实时电子控制软件系统的设计指导；C2支持基于消息传递风格的用户界面系统的描述；Rapide支持体系结构设计的模拟并提供了分析模拟结果的工具；SADL提供了关于体系结构加细的形式化基础；UniCon支持异构的构件和连接件类型，并提供了关于体系结构的高层编译器；Wright支持体系结构构件之间交互的说明和分析。
　　这些ADL及它们的支持工具、描述方法和形式各不相同，强调了体系结构不同的侧面，对体系结构的研究和应用起到了重要的作用，但也有负面的影响。每一种ADL都以独立的形式存在，描述语法不同且互不兼容。同时又有许多共同的特征，这使设计人员很难选择一种合适的ADL；大部分ADL都是领域相关的，不利于对不同领域的体系结构进行分析；一些ADL在某些方面大同小异，有很多冗余的部分。
　　针对这些不足，已出现一些交换语言，其目标是提供一个公共形式把各种语言综合起来，以此来综合不同的体系结构描述。ACME就是其中较有影响的一个，它的目标是抽取诸多ADL中与具体ADL无关的信息作为交换的依据，同时，允许并入相关信息作为保留的辅助信息。另外一个研究热点是开发基于XML的体系结构描述语言。XML是可扩展标记语言，它简单并易于实现，因此被工业界广泛使用。若能用XML来表示软件体系结构，必能极大推动软件体系结构领域的研究成果在软件产业界的应用。由于XML在体系结构描述上的许多优点，研究者们已经开发出了不同的基于XML的体系结构描述语言，如XADL1.0、XBA、XCOBA等。

#### 　　2) 使用“4+1” 模型描述软件体系结构

　　按照一定的描述方法，用体系结构描述语言对体系结构进行说明的结果称为体系结构的表示，而将描述体系结构的过程称为体系结构构造。在体系结构描述方面，Kruchten提出的“4+1”模型是当前软件体系结构描述的一个经典范例，该模型由逻辑视图、开发视图、过程视图和物理视图组成，并通过场景将这4个视图有机地结合起来，比较细致地描述了需求和体系结构之间的关系。
　　“4+1”模型实际上使得有不同需求的人员能够得到他们对于软件体系结构想要了解的东西。系统工程师先从物理视图，然后从过程视图靠近体系结构。最终使用者、客户、数据专家从逻辑视图看体系结构；项目经理、软件配置人员从开发视图看体系结构。

#### 　　3) 使用UML描述软件体系结构

　　Booch从UML的角度给出了一种由设计视图、过程视图、实现视图和部署视图，再加上一个用例视图构成的体系结构描述模型。Medividovic则总结了用UML描述体系结构的三种途径：不改变UML用法而直接对体系结构建模；利用UML支持的扩充机制扩展UML的元模型对体系结构建模概念的支持；对UML进行扩充，增加体系结构建模元素。本书第3章介绍了不改变UML用法而直接对体系结构建模的方法。UML的静态建模机制包括用例图、类图、对象图、包、构件图和部署图。UML的动态建模机制包括顺序图、协作图、状态图和活动图。可以使用UML对构件交互模式进行静态建模和动态建模。

###  　　2.软件体系结构设计研究

　　软件体系结构设计研究包括体系结构风格研究、体系结构设计原理、设计模式和设计方法研究。

#### 　　1) 体系结构风格研究

　　体系结构设计研究的重点内容之一就是体系结构风格的研究。人们在开发不同系统时，会逐渐发现一类系统的体系结构上有许多共性，于是抽取出这些共性构成一些富有代表性和被广泛接受的体系结构风格。所以说体系结构风格是用来刻画具有相似结构和语义性质的一类系统族的。它定义一组构件、连接件的类型以及它们之间应该如何连接的约束。
　　一般来说，一个系统不一定只具有一种风格，在不同层次或抽象级别上，可具有多种风格。虽然系统组织方式可以是无穷的，但如果能用少量的风格类型表达出较多的系统组织方式，不仅可以缩短系统分析设计的时间，还能大大提高大规模软件重用的机会。
　　Garlan和Shaw给出了对通用体系结构风格的分类：数据流风格、调用/返回风格、独立构件风格、虚拟机风格和仓库风格。

#### 　　2) 体系结构设计原理

　　参照软件工程、结构化程序设计和面向对象程序设计原理，结合软件体系结构设计本身的特点，可以总结出软件体系结构设计过程中用到的原理主要有以下几个：抽象、封装、信息隐藏、模块化、注意点分离、耦合和内聚、接口和实现分离、分而治之、层次化等。

#### 　　3) 体系结构设计模式

　　设计模式的概念最早是由美国的一位叫做Christopher Alexander的建筑理论家提出来的，他试图找到一种结构化、可重用的方法，以在图纸上捕捉到建筑物的基本要素。后来被作为总结软件设计，特别是面向对象设计的实践和经验而提出。在几十年的软件设计研究和实践中，设计人员和程序员积累了大量的实际经验，发现并提出了大量在众多应用中普遍存在的软件结构和结构关系，模式被用于软件体系结构设计中。利用设计模式可以方便地重用成功的设计和结构。把已经证实的技术表示为设计模式，使它们更加容易被新系统的开发者所接受。设计模式帮助设计师选择可使系统重用的设计方案，避免选择危害到可重用性的方案。

#### 　　4) 体系结构设计方法

　　生成一个满足软件需求的体系结构的过程即为体系结构设计。体系结构设计过程的本质在于：将系统分解成相应的组成成分(如构件、连接件)，并将这些成分重新组装成一个系统。常用的体系结构设计方法有4类，分别为制品驱动(artifact-driven)的方法，用例驱动(use-case-driven)的方法，模式驱动(pattern-driven)的方法和领域驱动(domain-driven)的方法。每种方法在过程的顺序上、在概念的特定内容上有所不同，但最后都生成对体系结构的描述。

###  　　3．基于体系结构的软件开发方法

　　本质上，软件体系结构是对软件需求的一种抽象解决方案。在引入了体系结构的软件开发中，应用系统的构造过程变为“问题定义→软件需求→软件体系结构→软件设计→软件实现”，可以认为软件体系结构架起了软件需求与软件设计之间的一座桥梁。而在由软件体系结构到实现的过程中，借助一定的中间件技术与软件总线技术，软件体系结构易于映射成相应的实现。Bass等人提出了一种基于体系结构的软件开发过程，该过程包括6个步骤：导出体系结构需求；设计体系结构；文档化体系结构；分析体系结构；实现体系结构；维护体系结构。对此在本书第5章中会进行介绍。
　　软件开发模型是跨越整个软件生存周期的系统开发、运行、维护所实施的全部工作和任务的结构框架，给出了软件开发活动各阶段之间的关系。目前，常见的软件开发模型大致可分为3种类型：
　　(1) 以软件需求完全确定为前提的瀑布模型。
　　(2) 在软件开发初始阶段只能提供基本需求时采用的渐进式开发模型，如螺旋模型等。
　　(3) 以形式化开发方法为基础的变换模型。
　　所有开发方法都是要解决需求与实现之间的差距。但是，这3种类型的软件开发模型都存在这样或那样的缺陷，不能很好地支持基于软件体系结构的开发过程。因此，研究人员在发展基于体系结构的软件开发模型方面做了一定的工作。
　　在基于构件和基于体系结构的软件开发逐渐成为主流的开发方法的情况下，已经出现了基于构件的软件工程。但是，对体系结构的描述、表示、设计和分析以及验证等内容的研究还相对不足，随着需求复杂化及其演化，切实可行的体系结构设计规则与方法将更为重要。

###  　　4．软件体系结构评估

　　软件体系结构的设计是整个软件开发过程中关键的一步。对于当今世界上庞大而复杂的系统来说，没有一个合适的体系结构而要有一个成功的软件设计几乎是不可想象的。不同类型的系统需要不同的体系结构，甚至一个系统的不同子系统也需要不同的体系结构。体系结构的选择是一个软件系统设计成败的关键。
　　但是，怎样才能知道为软件系统所选用的体系结构是否恰当？如何确保按照所选用的体系结构能顺利地开发出成功的软件产品呢？要回答这些问题，需要使用专门的方法对软件体系结构进行分析和评估。
　　常用的软件体系结构评估方法有软件体系结构分析方法(Software Architecture Analysis Method，SAAM)和体系结构权衡分析方法(Architecture Tradeoff Analysis Method，ATAM)。它们都是基于场景的软件体系结构评估方法，这类评估方法分析软件体系结构对场景也就是对系统的使用或修改活动的支持程度，从而判断该体系结构对这一场景所代表的质量需求的满足程度。例如，用一系列对软件的修改来反映易修改性方面的需求，用一系列攻击性操作来代表安全性方面的需求等。SAAM本质上是一个寻找受场景影响的体系结构元素的方法，而ATAM建立在SAAM基础上，关注对风险、非风险、敏感点和权衡点的识别。

###  　　5．特定领域的体系结构框架

　　特定领域的应用通常具有相似的特征，如果能够充分挖掘系统所在领域的共同特征，提炼出领域的一般需求，抽象出领域模型，归纳总结出这类系统的软件开发方法，就能够指导领域内其他系统的开发，提高软件质量和开发效率、节省软件开发成本。正是基于这种考虑，人们在软件的理论研究和工程实践中，逐渐形成一种称之为特定领域的软件体系结构(Domain Specific Software Architecture，DSSA)的理论与工程方法，它对软件设计与开发过程具有一定参考和指导意义，已经成为软件体系结构研究的一个重要方向。
　　Rick Hayers-Roth和Will Tracz分别对DSSA给出了不同的定义，前者侧重于DSSA的特征，强调系统由构件组成，适用于特定领域，有利于开发成功应用程序的标准结构；后者侧重于DSSA的组成要素，指出DSSA应该包括领域模型、参考需求、参考体系结构、相应的支持环境或设施、实例化、细化或评估的方法与过程。两种DSSA定义都强调了参考体系结构的重要性。
　　特定领域的体系结构是将体系结构理论应用到具体领域的过程，常见的例子有：
　　(1) 用户界面工具和框架。可以为开发者提供可重用框架以及像菜单、对话框等可重用构件的集合。
　　(2) 编译器的标准分解。体系结构的重用能使语言编译系统的开发变得非常简单。
　　(3) 标准化的通信协议。通过在不同层次的抽象上提供服务，可实现跨平台的交互。

###  　　6．软件体系结构支持工具

　　几乎每种体系结构都有相应的支持工具，如UniCon、Aesop等体系结构支持环境，C2的支持环境ArchStudio，Acme的支持环境AcmeStudio，支持主动连接件的Tracer工具等。另外，还出现了很多支持体系结构的分析工具，如支持静态分析的工具、支持类型检查的工具、支持体系结构层次依赖分析的工具、支持体系结构动态特性仿真工具、体系结构性能仿真工具等。但与其他成熟的软件工程环境相比，体系结构设计的支持工具还很不成熟，难以实用化。本书通过两个较为著名的软件体系结构集成开发环境ArchStudio4和AcmeStudio，介绍软件体系结构集成开发环境的具体功能。

 



