# 主要方式

软件体系结构评估的主要方式

## 主要评估方式简介和比较

从目前已有的软件体系结构评估技术来看，某些技术通过与经验丰富的设计人员交流获取他们对待评估软件体系结构的意见；某些技术对针对代码质量度量进行扩展以自底向上地推测软件体系结构的质量；某些技术分析把对系统的质量的需求转换为一系列与系统的交互活动，分析软件体系结构对这一系列活动的支持程度等。 

尽管看起来它们采用的评估方式都各不相同，但基本可以归纳为三类主要的评估方式：基于调查问卷或检查表的方式、基于场景的方式和基于度量的方式。

- ### 基于调查问卷或检查表的评估方式

  - 卡耐基梅隆大学的软件工程研究所(CMU/SEI)的软件风险评估过程采用了这一方法。
  - 调查问卷是一系列可以应用到各种体系结构评估的相关问题，其中有些问题可能涉及到体系结构的设计决策；有些问题涉及到体系结构的文档，例如体系结构的表示用的是何种ADL；有的问题针对体系结构描述本身的细节问题，如系统的核心功能是否与界面分开。
  - 检查表中也包含一系列比调查问卷更细节和具体的问题，它们更趋向于考察某些关心的质量属性。
  - 例如，对实时信息系统的性能进行考察时，很可能问到系统是否反复多次地将同样的数据写入磁盘等。
  - 这一评估方式比较自由灵活，可评估多种质量属性，也可以在软件体系结构设计的多个阶段进行。
  - 但是由于评估的结果很大程度上来自评估人员的主观推断，因此不同的评估人员可能会产生不同甚至截然相反的结果，而且评估人员对领域的熟悉程度、是否具有丰富的相关经验也成为评估结果是否正确的重要因素。
  - 尽管基于调查问卷与检查表的评估方式相对比较主观，但由于系统相关人员的经验和知识是评估软件体系结构的重要信息来源，因而它仍然是进行软件体系结构评估的重要途径之一。

- ### 基于场景的评估方式

  - 场景是一系列有序的使用或修改系统的步骤。
  - 基于场景的方式由SEI首先提出并应用在体系结构权衡分析方法(Architecture Tradeoff Analysis Method，ATAM)和软件体系结构分析方法(Software Architecture Analysis Method，SAAM)中。
  - 这种软件体系结构评估方式分析软件体系结构对场景，也就是对系统的使用或修改活动的支持程度，从而判断该体系结构对这一场景所代表的质量需求的满足程度。
  - 例如，用一系列对软件的修改来反映易修改性方面的需求，用一系列攻击性操作来代表安全性方面的需求等。
  - 这一评估方式考虑到了包括系统的开发人员、维护人员、最终用户、管理人员、测试人员等在内的所有与系统相关的人员对质量的要求。
  - 基于场景的评估方式涉及到的基本活动包括确定应用领域的功能和软件体系结构的结构之间的映射，设计用于体现待评估质量属性的场景以及分析软件体系结构对场景的支持程度。
  - 不同的应用系统对同一质量属性的理解可能不同，例如，对操作系统来说，可移植性被理解为系统可在不同的硬件平台上运行，而对于普通的应用系统而言，可移植性往往是指该系统可在不同的操作系统上运行。
  - 由于存在这种不一致性，对一个领域适合的场景设计在另一个领域内未必合适，因此基于场景的评估方式是特定于领域的。
  - 这一评估方式的实施者一方面需要有丰富的领域知识以对某一质量需求设计出合理的场景，另一方面，必须对待评估的软件体系结构有一定的了解以准确判断它是否支持场景描述的一系列活动。 

- ### 基于度量的评估方式

  - 度量是指为软件产品的某一属性所赋予的数值，如代码行数、方法调用层数、构件个数等。
  - 传统的度量研究主要针对代码，但近年来也出现了一些针对高层设计的度量，软件体系结构度量即是其中之一。
  - 代码度量和代码质量之间存在着重要的联系，类似地，软件体系结构度量应该也能够作为评判质量的重要的依据。
  - 赫尔辛基大学提出的基于模式挖掘的面向对象软件体系结构度量技术、 Karlskrona和Ronneby提出的基于面向对象度量的软件体系结构可维护性评估、西弗吉尼亚大学提出的软件体系结构度量方法等都在这方面进行了探索，提出了一些可操作的具体方案。
  - 我们把这类评估方式称做基于度量的评估方式。
  - 基于度量的评估技术都涉及三个基本活动：
    - 首先需要建立质量属性和度量之间的映射原则，即确定怎样从度量结果推出系统具有什么样的质量属性；
    - 然后从软件体系结构文档中获取度量信息；
    - 最后根据映射原则分析推导出系统的某些质量属性。
    - 因此，这些评估技术被认为都采用了基于度量的评估方式。
  - 基于度量的评估方式提供更为客观和量化的质量评估。
  - 这一评估方式需要在软件体系结构的设计基本完成以后才能进行，而且需要评估人员对待评估的体系结构十分了解，否则不能获取准确的度量。
  - 自动的软件体系结构度量获取工具能在一定程度上简化评估的难度，例如MAISA可从文本格式的UML图中抽取面向对象体系结构的度量。

- ### 三种评估方式比较

  - 经过对三类主要的软件体系结构质量评估方式的分析，表7-1从通用性、评估者对体系结构的了解程度、评估实施阶段、评估方式的客观程度等方面对这三种方式进行简单的 比较。

    ![](https://raw.githubusercontent.com/ZanderZhao/images/master/img2019/20191221233823.png)

    

    

- ## 基于场景的评估方法概念介绍

  - 最著名的体系结构评估方法均是基于场景的。
  - 场景是系统使用或改动的假定情况集合。各种场景可以抽象成包含6个部分的一般形式，以方便后期的评估。
    - (1) 抽象
      - > 这是某个生成该刺激的实体(人、计算机系统或任何其他可以起到刺激作用的实体)。
    - (2) 刺激
      - > 刺激源对系统的影响。
    - (3) 环境
      - > 与刺激相关的上下文条件。当刺激发生时，系统可能处于过载，或者正在运行，也可能是其他情况。
    - (4) 制品
      - > 接收刺激的实体。可能是整个系统，也可能是系统的一部分。
    - (5) 响应
      - > 是在刺激到达后所采取的行动。
    - (6) 响应度量
      - > 当响应发生时，应该能够以某种方式对其进行度量，以对需求进行测试来确定其是否能被满足。
  - 场景的一个优点就在于它是针对特定系统的，也就是说它不会被领域所限。
  - 场景可以充分自由地表达刺激源导致的系统响应。
  - 更重要的是场景可以将多个涉众的建议统一起来。
  - 不同的涉众可以对相似的情况从各自的角度作出解释，然后这些解释就可以在删除冗余信息后整合到一个场景里。
  - 若干知名的评估方法均使用场景，例如SAAM、ATAM、SAEM等。下面对其中的SAAM和ATAM方法进行较详细的介绍。